<!-- Main Content -->
<div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">
        <form novalidate>
            <div class="control-group">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" [(ngModel)]="post.title" [disabled]="processing" name="title"
                           class="form-control"
                           placeholder="Title">
                </div>
            </div>
            <div class="control-group">
                <div class="form-group">
                    <label>Author</label>
                    <input type="text" [(ngModel)]="post.author" [disabled]="processing" name="author"
                           class="form-control"
                           placeholder="Author">
                </div>
            </div>
            <div class="control-group">
                <div class="form-group">
                    <label>Content</label>
                    <textarea rows="5" [(ngModel)]="post.content" [disabled]="processing" name="content"
                              class="form-control"
                              placeholder="Content"></textarea>
                </div>
            </div>
            <div id="imgTest"></div>
            <br>
            <app-loading *ngIf="processing && (!success && !failure)"></app-loading>
            <div class="alert alert-success pointer" *ngIf="success" routerLink="/home" role="alert">
                Your entry was successfully posted! Click here to go home.
            </div>
            <div class="alert alert-danger pointer" *ngIf="failure" routerLink="/author-post" role="alert">
                An unexpected error occured while submitting your entry. Please refresh your browser and try again.
            </div>
            <div class="form-group text-center mx-auto" *ngIf="!submitted">
                <button class="btn btn-secondary" (click)="submit();">Submit</button>
            </div>
          <form [formGroup]="myForm" (ngSubmit)="submit()">



            <div class="form-group">

              <label for="name">Name</label>

              <input

                      formControlName="name"

                      id="name"

                      type="text"

                      class="form-control">

              <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">

                <div *ngIf="f.name.errors.required">Name is required.</div>

                <div *ngIf="f.name.errors.minlength">Name should be 3 character.</div>

              </div>

            </div>



            <div class="form-group">

              <label for="file">File</label>

              <input

                      formControlName="file"

                      id="file"

                      type="file"

                      class="form-control"

                      multiple=""

                      (change)="onFileChange($event)">

              <div *ngIf="f.file.touched && f.file.invalid" class="alert alert-danger">

                <div *ngIf="f.file.errors.required">File is required.</div>

              </div>

            </div>



            <img *ngFor='let url of images'  [src]="url" height="150" width="200px" style="margin: 3px;"> <br/>




          </form>
        </form>
    </div>
</div>
